<!-- views/admin/users.ejs -->
<!DOCTYPE html>
<html>
  <head>
    <title>User Management</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 2rem;
      }
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th,
      td {
        padding: 10px;
        border: 1px solid #ccc;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
      .actions {
        display: flex;
        gap: 10px;
      }
      .actions button {
        padding: 5px 10px;
        cursor: pointer;
      }
      a.button {
        display: inline-block;
        padding: 10px 15px;
        background-color: #4caf50;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        margin-bottom: 20px;
      }
      a.back {
        display: inline-block;
        margin-bottom: 20px;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <h1>User Management</h1>
    <a href="/admin/dashboard" class="back">‚Üê Back to Dashboard</a>
    <p><a href="/admin/users/create" class="button">+ Add New User</a></p>

    <table>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Password</th>
        <th>Contact</th>
        <th>Address</th>
        <th>Admin Status</th>
        <th>Actions</th>
      </tr>
      <% users.forEach(user => { %>
      <tr>
        <td><%= user.UserID %></td>
        <td><%= user.Name %></td>
        <td><%= user.Email %></td>
        <td>1234</td>
        <!-- Since your system uses the default password "1234" -->
        <td><%= user.ContactNumber %></td>
        <td><%= user.Address %></td>
        <td><%= user.IsAdmin ? 'Admin' : 'User' %></td>
        <td class="actions">
          <button
            onclick="location.href='/admin/users/edit/<%= user.UserID %>'"
          >
            Edit
          </button>
          <button
            onclick="if(confirm('Are you sure?')) location.href='/admin/users/delete/<%= user.UserID %>'"
          >
            Delete
          </button>
        </td>
      </tr>
      <% }); %>
    </table>
  </body>
</html>
